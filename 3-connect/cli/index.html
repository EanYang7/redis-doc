
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Overview of redis-cli, the Redis command line interface
">
      
      
        <meta name="author" content="Ean Yang">
      
      
        <link rel="canonical" href="https://eanyang7.github.io/redis-doc/3-connect/cli/">
      
      
        <link rel="prev" href="../_index/">
      
      
        <link rel="next" href="../clients/_index/">
      
      
      <link rel="icon" href="../../assets/favicon.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.12">
    
    
      
        <title>Redis CLI - redis 文档</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#command-line-usage" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="redis 文档" class="md-header__button md-logo" aria-label="redis 文档" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            redis 文档
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Redis CLI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple"  aria-label="切换为暗黑模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换为暗黑模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="red"  aria-label="切换为浅色模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换为浅色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EanYang7/redis-doc" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="redis 文档" class="md-nav__button md-logo" aria-label="redis 文档" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    redis 文档
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EanYang7/redis-doc" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../0-about/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    0 about
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../1-get-started/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    1 get started
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../2-install/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2 install
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3 connect
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            3 connect
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect to Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Redis CLI
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Redis CLI
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-line-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Command line usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-quoting-and-escaping" class="md-nav__link">
    <span class="md-ellipsis">
      String quoting and escaping
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-port-password-and-database" class="md-nav__link">
    <span class="md-ellipsis">
      Host, port, password, and database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssltls" class="md-nav__link">
    <span class="md-ellipsis">
      SSL/TLS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-input-from-other-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Getting input from other programs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuously-run-the-same-command" class="md-nav__link">
    <span class="md-ellipsis">
      Continuously run the same command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mass-insertion-of-data-using-redis-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Mass insertion of data using redis-cli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csv-output" class="md-nav__link">
    <span class="md-ellipsis">
      CSV output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-lua-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Running Lua scripts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactive mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handling-connections-and-reconnections" class="md-nav__link">
    <span class="md-ellipsis">
      Handling connections and reconnections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-history-completion-and-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Editing, history, completion and hints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preferences" class="md-nav__link">
    <span class="md-ellipsis">
      Preferences
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-same-command-n-times" class="md-nav__link">
    <span class="md-ellipsis">
      Running the same command N times
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#showing-help-about-redis-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Showing help about Redis commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearing-the-terminal-screen" class="md-nav__link">
    <span class="md-ellipsis">
      Clearing the terminal screen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-modes-of-operation" class="md-nav__link">
    <span class="md-ellipsis">
      Special modes of operation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special modes of operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuous-stats-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous stats mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scanning-for-big-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Scanning for big keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-a-list-of-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Getting a list of keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pubsub-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Pub/sub mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-commands-executed-in-redis" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring commands executed in Redis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-the-latency-of-redis-instances" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring the latency of Redis instances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-backups-of-rdb-files" class="md-nav__link">
    <span class="md-ellipsis">
      Remote backups of RDB files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replica-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Replica mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performing-an-lru-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Performing an LRU simulation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../clients/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Clients
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../4-data-types/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    4 data types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../5-interact/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    5 interact
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../6-manual/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    6 manual
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../7-management/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    7 management
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../8-reference/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    8 reference
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-line-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Command line usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-quoting-and-escaping" class="md-nav__link">
    <span class="md-ellipsis">
      String quoting and escaping
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-port-password-and-database" class="md-nav__link">
    <span class="md-ellipsis">
      Host, port, password, and database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssltls" class="md-nav__link">
    <span class="md-ellipsis">
      SSL/TLS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-input-from-other-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Getting input from other programs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuously-run-the-same-command" class="md-nav__link">
    <span class="md-ellipsis">
      Continuously run the same command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mass-insertion-of-data-using-redis-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Mass insertion of data using redis-cli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csv-output" class="md-nav__link">
    <span class="md-ellipsis">
      CSV output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-lua-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Running Lua scripts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactive mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handling-connections-and-reconnections" class="md-nav__link">
    <span class="md-ellipsis">
      Handling connections and reconnections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-history-completion-and-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Editing, history, completion and hints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preferences" class="md-nav__link">
    <span class="md-ellipsis">
      Preferences
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-same-command-n-times" class="md-nav__link">
    <span class="md-ellipsis">
      Running the same command N times
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#showing-help-about-redis-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Showing help about Redis commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearing-the-terminal-screen" class="md-nav__link">
    <span class="md-ellipsis">
      Clearing the terminal screen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-modes-of-operation" class="md-nav__link">
    <span class="md-ellipsis">
      Special modes of operation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special modes of operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuous-stats-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous stats mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scanning-for-big-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Scanning for big keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-a-list-of-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Getting a list of keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pubsub-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Pub/sub mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-commands-executed-in-redis" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring commands executed in Redis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-the-latency-of-redis-instances" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring the latency of Redis instances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-backups-of-rdb-files" class="md-nav__link">
    <span class="md-ellipsis">
      Remote backups of RDB files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replica-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Replica mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performing-an-lru-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Performing an LRU simulation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EanYang7/redis-doc/tree/main/docs/3-connect/cli.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/EanYang7/redis-doc/tree/main/docs/3-connect/cli.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<p>In interactive mode, <code>redis-cli</code> has basic line editing capabilities to provide a familiar typing experience.</p>
<p>To launch the program in special modes, you can use several options, including:</p>
<ul>
<li>Simulate a replica and print the replication stream it receives from the primary.</li>
<li>Check the latency of a Redis server and display statistics. </li>
<li>Request ASCII-art spectrogram of latency samples and frequencies.</li>
</ul>
<p>This topic covers the different aspects of <code>redis-cli</code>, starting from the simplest and ending with the more advanced features.</p>
<h2 id="command-line-usage">Command line usage<a class="headerlink" href="#command-line-usage" title="Permanent link">⚓︎</a></h2>
<p>To run a Redis command and return a standard output at the terminal, include the command to execute as separate arguments of <code>redis-cli</code>:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli INCR mycounter
(integer) 7
</code></pre></div>
<p>The reply of the command is "7". Since Redis replies are typed (strings, arrays, integers, nil, errors, etc.), you see the type of the reply between parentheses. This additional information may not be ideal when the output of <code>redis-cli</code> must be used as input of another command or redirected into a file.</p>
<p><code>redis-cli</code> only shows additional information for human readability when it detects the standard output is a tty, or terminal. For all other outputs it will auto-enable the <em>raw output mode</em>, as in the following example:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli INCR mycounter &gt; /tmp/output.txt
$ cat /tmp/output.txt
8
</code></pre></div>
<p>Note that <code>(integer)</code> is omitted from the output because <code>redis-cli</code> detects
the output is no longer written to the terminal. You can force raw output
even on the terminal with the <code>--raw</code> option:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --raw INCR mycounter
9
</code></pre></div>
<p>You can force human readable output when writing to a file or in
pipe to other commands by using <code>--no-raw</code>.</p>
<h2 id="string-quoting-and-escaping">String quoting and escaping<a class="headerlink" href="#string-quoting-and-escaping" title="Permanent link">⚓︎</a></h2>
<p>When <code>redis-cli</code> parses a command, whitespace characters automatically delimit the arguments.
In interactive mode, a newline sends the command for parsing and execution.
To input string values that contain whitespaces or non-printable characters, you can use quoted and escaped strings.</p>
<p>Quoted string values are enclosed in double (<code>"</code>) or single (<code>'</code>) quotation marks.
Escape sequences are used to put nonprintable characters in character and string literals.</p>
<p>An escape sequence contains a backslash (<code>\</code>) symbol followed by one of the escape sequence characters.</p>
<p>Doubly-quoted strings support the following escape sequences:</p>
<ul>
<li><code>\"</code> - double-quote</li>
<li><code>\n</code> - newline</li>
<li><code>\r</code> - carriage return</li>
<li><code>\t</code> - horizontal tab</li>
<li><code>\b</code> - backspace</li>
<li><code>\a</code> - alert</li>
<li><code>\\</code> - backslash</li>
<li><code>\xhh</code> - any ASCII character represented by a hexadecimal number (<em>hh</em>)</li>
</ul>
<p>Single quotes assume the string is literal, and allow only the following escape sequences:
* <code>\'</code> - single quote
* <code>\\</code> - backslash</p>
<p>For example, to return <code>Hello World</code> on two lines:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; SET mykey &quot;Hello\nWorld&quot;
OK
127.0.0.1:6379&gt; GET mykey
Hello
World
</code></pre></div>
<p>When you input strings that contain single or double quotes, as you might in passwords, for example, escape the string, like so: </p>
<p><code>127.0.0.1:6379&gt; AUTH some_admin_user "&gt;^8T&gt;6Na{u|jp&gt;+v\"55\@_;OU(OR]7mbAYGqsfyu48(j'%hQH7;v*f1H${*gD(Se'"</code></p>
<h2 id="host-port-password-and-database">Host, port, password, and database<a class="headerlink" href="#host-port-password-and-database" title="Permanent link">⚓︎</a></h2>
<p>By default, <code>redis-cli</code> connects to the server at the address 127.0.0.1 with port 6379.
You can change the port using several command line options. To specify a different host name or an IP address, use the <code>-h</code> option. In order to set a different port, use <code>-p</code>.</p>
<div class="highlight"><pre><span></span><code>$ redis-cli -h redis15.localnet.org -p 6390 PING
PONG
</code></pre></div>
<p>If your instance is password protected, the <code>-a &lt;password&gt;</code> option will
perform authentication saving the need of explicitly using the <code>AUTH</code> command:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli -a myUnguessablePazzzzzword123 PING
PONG
</code></pre></div>
<p><strong>NOTE:</strong> For security reasons, provide the password to <code>redis-cli</code> automatically via the
<code>REDISCLI_AUTH</code> environment variable.</p>
<p>Finally, it's possible to send a command that operates on a database number
other than the default number zero by using the <code>-n &lt;dbnum&gt;</code> option:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli FLUSHALL
OK
$ redis-cli -n 1 INCR a
(integer) 1
$ redis-cli -n 1 INCR a
(integer) 2
$ redis-cli -n 2 INCR a
(integer) 1
</code></pre></div>
<p>Some or all of this information can also be provided by using the <code>-u &lt;uri&gt;</code>
option and the URI pattern <code>redis://user:password@host:port/dbnum</code>:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli -u redis://LJenkins:p%40ssw0rd@redis-16379.hosted.com:16379/0 PING
PONG
</code></pre></div>
<p><strong>NOTE:</strong>
User, password and dbnum are optional.
For authentication without a username, use username <code>default</code>.
For TLS, use the scheme <code>rediss</code>.</p>
<h2 id="ssltls">SSL/TLS<a class="headerlink" href="#ssltls" title="Permanent link">⚓︎</a></h2>
<p>By default, <code>redis-cli</code> uses a plain TCP connection to connect to Redis.
You may enable SSL/TLS using the <code>--tls</code> option, along with <code>--cacert</code> or
<code>--cacertdir</code> to configure a trusted root certificate bundle or directory.</p>
<p>If the target server requires authentication using a client side certificate,
you can specify a certificate and a corresponding private key using <code>--cert</code> and
<code>--key</code>.</p>
<h2 id="getting-input-from-other-programs">Getting input from other programs<a class="headerlink" href="#getting-input-from-other-programs" title="Permanent link">⚓︎</a></h2>
<p>There are two ways you can use <code>redis-cli</code> in order to receive input from other
commands via the standard input. One is to use the target payload as the last argument
from <em>stdin</em>. For example, in order to set the Redis key <code>net_services</code>
to the content of the file <code>/etc/services</code> from a local file system, use the <code>-x</code>
option:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli -x SET net_services &lt; /etc/services
OK
$ redis-cli GETRANGE net_services 0 50
&quot;#\n# Network services, Internet style\n#\n# Note that &quot;
</code></pre></div>
<p>In the first line of the above session, <code>redis-cli</code> was executed with the <code>-x</code> option and a file was redirected to the CLI's
standard input as the value to satisfy the <code>SET net_services</code> command phrase. This is useful for scripting.</p>
<p>A different approach is to feed <code>redis-cli</code> a sequence of commands written in a
text file:</p>
<div class="highlight"><pre><span></span><code>$ cat /tmp/commands.txt
SET item:3374 100
INCR item:3374
APPEND item:3374 xxx
GET item:3374
$ cat /tmp/commands.txt | redis-cli
OK
(integer) 101
(integer) 6
&quot;101xxx&quot;
</code></pre></div>
<p>All the commands in <code>commands.txt</code> are executed consecutively by
<code>redis-cli</code> as if they were typed by the user in interactive mode. Strings can be
quoted inside the file if needed, so that it's possible to have single
arguments with spaces, newlines, or other special characters:</p>
<div class="highlight"><pre><span></span><code>$ cat /tmp/commands.txt
SET arg_example &quot;This is a single argument&quot;
STRLEN arg_example
$ cat /tmp/commands.txt | redis-cli
OK
(integer) 25
</code></pre></div>
<h2 id="continuously-run-the-same-command">Continuously run the same command<a class="headerlink" href="#continuously-run-the-same-command" title="Permanent link">⚓︎</a></h2>
<p>It is possible to execute a single command a specified number of times
with a user-selected pause between executions. This is useful in
different contexts - for example when we want to continuously monitor some
key content or <code>INFO</code> field output, or when we want to simulate some
recurring write event, such as pushing a new item into a list every 5 seconds.</p>
<p>This feature is controlled by two options: <code>-r &lt;count&gt;</code> and <code>-i &lt;delay&gt;</code>.
The <code>-r</code> option states how many times to run a command and <code>-i</code> sets
the delay between the different command calls in seconds (with the ability
to specify values such as 0.1 to represent 100 milliseconds).</p>
<p>By default the interval (or delay) is set to 0, so commands are just executed
ASAP:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli -r 5 INCR counter_value
(integer) 1
(integer) 2
(integer) 3
(integer) 4
(integer) 5
</code></pre></div>
<p>To run the same command indefinitely, use <code>-1</code> as the count value.
To monitor over time the RSS memory size it's possible to use the following command:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli -r -1 -i 1 INFO | grep rss_human
used_memory_rss_human:2.71M
used_memory_rss_human:2.73M
used_memory_rss_human:2.73M
used_memory_rss_human:2.73M
... a new line will be printed each second ...
</code></pre></div>
<h2 id="mass-insertion-of-data-using-redis-cli">Mass insertion of data using <code>redis-cli</code><a class="headerlink" href="#mass-insertion-of-data-using-redis-cli" title="Permanent link">⚓︎</a></h2>
<p>Mass insertion using <code>redis-cli</code> is covered in a separate page as it is a
worthwhile topic itself. Please refer to our <a href="/topics/mass-insert">mass insertion guide</a>.</p>
<h2 id="csv-output">CSV output<a class="headerlink" href="#csv-output" title="Permanent link">⚓︎</a></h2>
<p>A CSV (Comma Separated Values) output feature exists within <code>redis-cli</code> to export data from Redis to an external program.  </p>
<div class="highlight"><pre><span></span><code>$ redis-cli LPUSH mylist a b c d
(integer) 4
$ redis-cli --csv LRANGE mylist 0 -1
&quot;d&quot;,&quot;c&quot;,&quot;b&quot;,&quot;a&quot;
</code></pre></div>
<p>Note that the <code>--csv</code> flag will only work on a single command, not the entirety of a DB as an export.</p>
<h2 id="running-lua-scripts">Running Lua scripts<a class="headerlink" href="#running-lua-scripts" title="Permanent link">⚓︎</a></h2>
<p>The <code>redis-cli</code> has extensive support for using the debugging facility
of Lua scripting, available with Redis 3.2 onwards. For this feature, refer to the <a href="/topics/ldb">Redis Lua debugger documentation</a>.</p>
<p>Even without using the debugger, <code>redis-cli</code> can be used to
run scripts from a file as an argument:</p>
<div class="highlight"><pre><span></span><code>$ cat /tmp/script.lua
return redis.call(&#39;SET&#39;,KEYS[1],ARGV[1])
$ redis-cli --eval /tmp/script.lua location:hastings:temp , 23
OK
</code></pre></div>
<p>The Redis <code>EVAL</code> command takes the list of keys the script uses, and the
other non key arguments, as different arrays. When calling <code>EVAL</code> you
provide the number of keys as a number. </p>
<p>When calling <code>redis-cli</code> with the <code>--eval</code> option above, there is no need to specify the number of keys
explicitly. Instead it uses the convention of separating keys and arguments
with a comma. This is why in the above call you see <code>location:hastings:temp , 23</code> as arguments.</p>
<p>So <code>location:hastings:temp</code> will populate the <code>KEYS</code> array, and <code>23</code> the <code>ARGV</code> array.</p>
<p>The <code>--eval</code> option is useful when writing simple scripts. For more
complex work, the Lua debugger is recommended. It is possible to mix the two approaches, since the debugger can also execute scripts from an external file.</p>
<h1 id="interactive-mode">Interactive mode<a class="headerlink" href="#interactive-mode" title="Permanent link">⚓︎</a></h1>
<p>We have explored how to use the Redis CLI as a command line program.
This is useful for scripts and certain types of testing, however most
people will spend the majority of time in <code>redis-cli</code> using its interactive
mode.</p>
<p>In interactive mode the user types Redis commands at the prompt. The command
is sent to the server, processed, and the reply is parsed back and rendered
into a simpler form to read.</p>
<p>Nothing special is needed for running the <code>redis-cli</code> in interactive mode -
just execute it without any arguments</p>
<div class="highlight"><pre><span></span><code>$ redis-cli
127.0.0.1:6379&gt; PING
PONG
</code></pre></div>
<p>The string <code>127.0.0.1:6379&gt;</code> is the prompt. It displays the connected Redis server instance's hostname and port.</p>
<p>The prompt updates as the connected server changes or when operating on a database different from the database number zero:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; SELECT 2
OK
127.0.0.1:6379[2]&gt; DBSIZE
(integer) 1
127.0.0.1:6379[2]&gt; SELECT 0
OK
127.0.0.1:6379&gt; DBSIZE
(integer) 503
</code></pre></div>
<h2 id="handling-connections-and-reconnections">Handling connections and reconnections<a class="headerlink" href="#handling-connections-and-reconnections" title="Permanent link">⚓︎</a></h2>
<p>Using the <code>CONNECT</code> command in interactive mode makes it possible to connect
to a different instance, by specifying the <em>hostname</em> and <em>port</em> we want
to connect to:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; CONNECT metal 6379
metal:6379&gt; PING
PONG
</code></pre></div>
<p>As you can see the prompt changes accordingly when connecting to a different server instance.
If a connection is attempted to an instance that is unreachable, the <code>redis-cli</code> goes into disconnected
mode and attempts to reconnect with each new command:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; CONNECT 127.0.0.1 9999
Could not connect to Redis at 127.0.0.1:9999: Connection refused
not connected&gt; PING
Could not connect to Redis at 127.0.0.1:9999: Connection refused
not connected&gt; PING
Could not connect to Redis at 127.0.0.1:9999: Connection refused
</code></pre></div>
<p>Generally after a disconnection is detected, <code>redis-cli</code> always attempts to
reconnect transparently; if the attempt fails, it shows the error and
enters the disconnected state. The following is an example of disconnection
and reconnection:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; INFO SERVER
Could not connect to Redis at 127.0.0.1:6379: Connection refused
not connected&gt; PING
PONG
127.0.0.1:6379&gt; 
(now we are connected again)
</code></pre></div>
<p>When a reconnection is performed, <code>redis-cli</code> automatically re-selects the
last database number selected. However, all other states about the
connection is lost, such as within a MULTI/EXEC transaction:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli
127.0.0.1:6379&gt; MULTI
OK
127.0.0.1:6379&gt; PING
QUEUED

( here the server is manually restarted )

127.0.0.1:6379&gt; EXEC
(error) ERR EXEC without MULTI
</code></pre></div>
<p>This is usually not an issue when using the <code>redis-cli</code> in interactive mode for
testing, but this limitation should be known.</p>
<h2 id="editing-history-completion-and-hints">Editing, history, completion and hints<a class="headerlink" href="#editing-history-completion-and-hints" title="Permanent link">⚓︎</a></h2>
<p>Because <code>redis-cli</code> uses the
<a href="http://github.com/antirez/linenoise">linenoise line editing library</a>, it
always has line editing capabilities, without depending on <code>libreadline</code> or
other optional libraries.</p>
<p>Command execution history can be accessed in order to avoid retyping commands by pressing the arrow keys (up and down).
The history is preserved between restarts of the CLI, in a file named
<code>.rediscli_history</code> inside the user home directory, as specified
by the <code>HOME</code> environment variable. It is possible to use a different
history filename by setting the <code>REDISCLI_HISTFILE</code> environment variable,
and disable it by setting it to <code>/dev/null</code>.</p>
<p>The <code>redis-cli</code> is also able to perform command-name completion by pressing the TAB
key, as in the following example:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; Z&lt;TAB&gt;
127.0.0.1:6379&gt; ZADD&lt;TAB&gt;
127.0.0.1:6379&gt; ZCARD&lt;TAB&gt;
</code></pre></div>
<p>Once Redis command name has been entered at the prompt, the <code>redis-cli</code> will display
syntax hints. Like command history, this behavior can be turned on and off via the <code>redis-cli</code> preferences.</p>
<h2 id="preferences">Preferences<a class="headerlink" href="#preferences" title="Permanent link">⚓︎</a></h2>
<p>There are two ways to customize <code>redis-cli</code> behavior. The file <code>.redisclirc</code>
in the home directory is loaded by the CLI on startup. You can override the
file's default location by setting the <code>REDISCLI_RCFILE</code> environment variable to
an alternative path. Preferences can also be set during a CLI session, in which 
case they will last only the duration of the session.</p>
<p>To set preferences, use the special <code>:set</code> command. The following preferences
can be set, either by typing the command in the CLI or adding it to the
<code>.redisclirc</code> file:</p>
<ul>
<li><code>:set hints</code> - enables syntax hints</li>
<li><code>:set nohints</code> - disables syntax hints</li>
</ul>
<h2 id="running-the-same-command-n-times">Running the same command N times<a class="headerlink" href="#running-the-same-command-n-times" title="Permanent link">⚓︎</a></h2>
<p>It is possible to run the same command multiple times in interactive mode by prefixing the command
name by a number:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; 5 INCR mycounter
(integer) 1
(integer) 2
(integer) 3
(integer) 4
(integer) 5
</code></pre></div>
<h2 id="showing-help-about-redis-commands">Showing help about Redis commands<a class="headerlink" href="#showing-help-about-redis-commands" title="Permanent link">⚓︎</a></h2>
<p><code>redis-cli</code> provides online help for most Redis <a href="/commands">commands</a>, using the <code>HELP</code> command. The command can be used
in two forms:</p>
<ul>
<li><code>HELP @&lt;category&gt;</code> shows all the commands about a given category. The
categories are: <ul>
<li><code>@generic</code></li>
<li><code>@string</code></li>
<li><code>@list</code></li>
<li><code>@set</code></li>
<li><code>@sorted_set</code></li>
<li><code>@hash</code></li>
<li><code>@pubsub</code></li>
<li><code>@transactions</code></li>
<li><code>@connection</code></li>
<li><code>@server</code></li>
<li><code>@scripting</code></li>
<li><code>@hyperloglog</code></li>
<li><code>@cluster</code></li>
<li><code>@geo</code></li>
<li><code>@stream</code></li>
</ul>
</li>
<li><code>HELP &lt;commandname&gt;</code> shows specific help for the command given as argument.</li>
</ul>
<p>For example in order to show help for the <code>PFADD</code> command, use:</p>
<div class="highlight"><pre><span></span><code>127.0.0.1:6379&gt; HELP PFADD

PFADD key element [element ...]
summary: Adds the specified elements to the specified HyperLogLog.
since: 2.8.9
</code></pre></div>
<p>Note that <code>HELP</code> supports TAB completion as well.</p>
<h2 id="clearing-the-terminal-screen">Clearing the terminal screen<a class="headerlink" href="#clearing-the-terminal-screen" title="Permanent link">⚓︎</a></h2>
<p>Using the <code>CLEAR</code> command in interactive mode clears the terminal's screen.</p>
<h1 id="special-modes-of-operation">Special modes of operation<a class="headerlink" href="#special-modes-of-operation" title="Permanent link">⚓︎</a></h1>
<p>So far we saw two main modes of <code>redis-cli</code>.</p>
<ul>
<li>Command line execution of Redis commands.</li>
<li>Interactive "REPL" usage.</li>
</ul>
<p>The CLI performs other auxiliary tasks related to Redis that
are explained in the next sections:</p>
<ul>
<li>Monitoring tool to show continuous stats about a Redis server.</li>
<li>Scanning a Redis database for very large keys.</li>
<li>Key space scanner with pattern matching.</li>
<li>Acting as a <a href="/topics/pubsub">Pub/Sub</a> client to subscribe to channels.</li>
<li>Monitoring the commands executed into a Redis instance.</li>
<li>Checking the <a href="/topics/latency">latency</a> of a Redis server in different ways.</li>
<li>Checking the scheduler latency of the local computer.</li>
<li>Transferring RDB backups from a remote Redis server locally.</li>
<li>Acting as a Redis replica for showing what a replica receives.</li>
<li>Simulating <a href="/topics/lru-cache">LRU</a> workloads for showing stats about keys hits.</li>
<li>A client for the Lua debugger.</li>
</ul>
<h2 id="continuous-stats-mode">Continuous stats mode<a class="headerlink" href="#continuous-stats-mode" title="Permanent link">⚓︎</a></h2>
<p>Continuous stats mode is probably one of the lesser known yet very useful features of <code>redis-cli</code> to monitor Redis instances in real time. To enable this mode, the <code>--stat</code> option is used.
The output is very clear about the behavior of the CLI in this mode:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --stat
------- data ------ --------------------- load -------------------- - child -
keys       mem      clients blocked requests            connections
506        1015.00K 1       0       24 (+0)             7
506        1015.00K 1       0       25 (+1)             7
506        3.40M    51      0       60461 (+60436)      57
506        3.40M    51      0       146425 (+85964)     107
507        3.40M    51      0       233844 (+87419)     157
507        3.40M    51      0       321715 (+87871)     207
508        3.40M    51      0       408642 (+86927)     257
508        3.40M    51      0       497038 (+88396)     257
</code></pre></div>
<p>In this mode a new line is printed every second with useful information and differences of request values between old data points. Memory usage, client connection counts, and various other statistics about the connected Redis database can be easily understood with this auxiliary <code>redis-cli</code> tool.</p>
<p>The <code>-i &lt;interval&gt;</code> option in this case works as a modifier in order to
change the frequency at which new lines are emitted. The default is one
second.</p>
<h2 id="scanning-for-big-keys">Scanning for big keys<a class="headerlink" href="#scanning-for-big-keys" title="Permanent link">⚓︎</a></h2>
<p>In this special mode, <code>redis-cli</code> works as a key space analyzer. It scans the
dataset for big keys, but also provides information about the data types
that the data set consists of. This mode is enabled with the <code>--bigkeys</code> option,
and produces verbose output:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --bigkeys

# Scanning the entire keyspace to find biggest keys as well as
# average sizes per key type.  You can use -i 0.01 to sleep 0.01 sec
# per SCAN command (not usually needed).

[00.00%] Biggest string found so far &#39;key-419&#39; with 3 bytes
[05.14%] Biggest list   found so far &#39;mylist&#39; with 100004 items
[35.77%] Biggest string found so far &#39;counter:__rand_int__&#39; with 6 bytes
[73.91%] Biggest hash   found so far &#39;myobject&#39; with 3 fields

-------- summary -------

Sampled 506 keys in the keyspace!
Total key length in bytes is 3452 (avg len 6.82)

Biggest string found &#39;counter:__rand_int__&#39; has 6 bytes
Biggest   list found &#39;mylist&#39; has 100004 items
Biggest   hash found &#39;myobject&#39; has 3 fields

504 strings with 1403 bytes (99.60% of keys, avg size 2.78)
1 lists with 100004 items (00.20% of keys, avg size 100004.00)
0 sets with 0 members (00.00% of keys, avg size 0.00)
1 hashs with 3 fields (00.20% of keys, avg size 3.00)
0 zsets with 0 members (00.00% of keys, avg size 0.00)
</code></pre></div>
<p>In the first part of the output, each new key larger than the previous larger
key (of the same type) encountered is reported. The summary section
provides general stats about the data inside the Redis instance.</p>
<p>The program uses the <code>SCAN</code> command, so it can be executed against a busy
server without impacting the operations, however the <code>-i</code> option can be
used in order to throttle the scanning process of the specified fraction
of second for each <code>SCAN</code> command. </p>
<p>For example, <code>-i 0.01</code> will slow down the program execution considerably, but will also reduce the load on the server
to a negligible amount.</p>
<p>Note that the summary also reports in a cleaner form the biggest keys found
for each time. The initial output is just to provide some interesting info
ASAP if running against a very large data set.</p>
<h2 id="getting-a-list-of-keys">Getting a list of keys<a class="headerlink" href="#getting-a-list-of-keys" title="Permanent link">⚓︎</a></h2>
<p>It is also possible to scan the key space, again in a way that does not
block the Redis server (which does happen when you use a command
like <code>KEYS *</code>), and print all the key names, or filter them for specific
patterns. This mode, like the <code>--bigkeys</code> option, uses the <code>SCAN</code> command,
so keys may be reported multiple times if the dataset is changing, but no
key would ever be missing, if that key was present since the start of the
iteration. Because of the command that it uses this option is called <code>--scan</code>.</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --scan | head -10
key-419
key-71
key-236
key-50
key-38
key-458
key-453
key-499
key-446
key-371
</code></pre></div>
<p>Note that <code>head -10</code> is used in order to print only the first ten lines of the
output.</p>
<p>Scanning is able to use the underlying pattern matching capability of
the <code>SCAN</code> command with the <code>--pattern</code> option.</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --scan --pattern &#39;*-11*&#39;
key-114
key-117
key-118
key-113
key-115
key-112
key-119
key-11
key-111
key-110
key-116
</code></pre></div>
<p>Piping the output through the <code>wc</code> command can be used to count specific
kind of objects, by key name:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --scan --pattern &#39;user:*&#39; | wc -l
3829433
</code></pre></div>
<p>You can use <code>-i 0.01</code> to add a delay between calls to the <code>SCAN</code> command.
This will make the command slower but will significantly reduce load on the server.</p>
<h2 id="pubsub-mode">Pub/sub mode<a class="headerlink" href="#pubsub-mode" title="Permanent link">⚓︎</a></h2>
<p>The CLI is able to publish messages in Redis Pub/Sub channels using
the <code>PUBLISH</code> command. Subscribing to channels in order to receive
messages is different - the terminal is blocked and waits for
messages, so this is implemented as a special mode in <code>redis-cli</code>. Unlike
other special modes this mode is not enabled by using a special option,
but simply by using the <code>SUBSCRIBE</code> or <code>PSUBSCRIBE</code> command, which are available in
interactive or command mode:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli PSUBSCRIBE &#39;*&#39;
Reading messages... (press Ctrl-C to quit)
1) &quot;PSUBSCRIBE&quot;
2) &quot;*&quot;
3) (integer) 1
</code></pre></div>
<p>The <em>reading messages</em> message shows that we entered Pub/Sub mode.
When another client publishes some message in some channel, such as with the command <code>redis-cli PUBLISH mychannel mymessage</code>, the CLI in Pub/Sub mode will show something such as:</p>
<div class="highlight"><pre><span></span><code>1) &quot;pmessage&quot;
2) &quot;*&quot;
3) &quot;mychannel&quot;
4) &quot;mymessage&quot;
</code></pre></div>
<p>This is very useful for debugging Pub/Sub issues.
To exit the Pub/Sub mode just process <code>CTRL-C</code>.</p>
<h2 id="monitoring-commands-executed-in-redis">Monitoring commands executed in Redis<a class="headerlink" href="#monitoring-commands-executed-in-redis" title="Permanent link">⚓︎</a></h2>
<p>Similarly to the Pub/Sub mode, the monitoring mode is entered automatically
once you use the <code>MONITOR</code> command. All commands received by the active Redis instance will be printed to the standard output:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli MONITOR
OK
1460100081.165665 [0 127.0.0.1:51706] &quot;set&quot; &quot;shipment:8000736522714:status&quot; &quot;sorting&quot;
1460100083.053365 [0 127.0.0.1:51707] &quot;get&quot; &quot;shipment:8000736522714:status&quot;
</code></pre></div>
<p>Note that it is possible to pipe the output, so you can monitor
for specific patterns using tools such as <code>grep</code>.</p>
<h2 id="monitoring-the-latency-of-redis-instances">Monitoring the latency of Redis instances<a class="headerlink" href="#monitoring-the-latency-of-redis-instances" title="Permanent link">⚓︎</a></h2>
<p>Redis is often used in contexts where latency is very critical. Latency
involves multiple moving parts within the application, from the client library
to the network stack, to the Redis instance itself.</p>
<p>The <code>redis-cli</code> has multiple facilities for studying the latency of a Redis
instance and understanding the latency's maximum, average and distribution.</p>
<p>The basic latency-checking tool is the <code>--latency</code> option. Using this
option the CLI runs a loop where the <code>PING</code> command is sent to the Redis
instance and the time to receive a reply is measured. This happens 100
times per second, and stats are updated in a real time in the console:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --latency
min: 0, max: 1, avg: 0.19 (427 samples)
</code></pre></div>
<p>The stats are provided in milliseconds. Usually, the average latency of
a very fast instance tends to be overestimated a bit because of the
latency due to the kernel scheduler of the system running <code>redis-cli</code>
itself, so the average latency of 0.19 above may easily be 0.01 or less.
However this is usually not a big problem, since most developers are interested in
events of a few milliseconds or more.</p>
<p>Sometimes it is useful to study how the maximum and average latencies
evolve during time. The <code>--latency-history</code> option is used for that
purpose: it works exactly like <code>--latency</code>, but every 15 seconds (by
default) a new sampling session is started from scratch:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --latency-history
min: 0, max: 1, avg: 0.14 (1314 samples) -- 15.01 seconds range
min: 0, max: 1, avg: 0.18 (1299 samples) -- 15.00 seconds range
min: 0, max: 1, avg: 0.20 (113 samples)^C
</code></pre></div>
<p>Sampling sessions' length can be changed with the <code>-i &lt;interval&gt;</code> option.</p>
<p>The most advanced latency study tool, but also the most complex to
interpret for non-experienced users, is the ability to use color terminals
to show a spectrum of latencies. You'll see a colored output that indicates the
different percentages of samples, and different ASCII characters that indicate
different latency figures. This mode is enabled using the <code>--latency-dist</code>
option:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --latency-dist
(output not displayed, requires a color terminal, try it!)
</code></pre></div>
<p>There is another pretty unusual latency tool implemented inside <code>redis-cli</code>.
It does not check the latency of a Redis instance, but the latency of the
computer running <code>redis-cli</code>. This latency is intrinsic to the kernel scheduler, 
the hypervisor in case of virtualized instances, and so forth.</p>
<p>Redis calls it <em>intrinsic latency</em> because it's mostly opaque to the programmer.
If the Redis instance has high latency regardless of all the obvious things
that may be the source cause, it's worth to check what's the best your system
can do by running <code>redis-cli</code> in this special mode directly in the system you
are running Redis servers on.</p>
<p>By measuring the intrinsic latency, you know that this is the baseline,
and Redis cannot outdo your system. In order to run the CLI
in this mode, use the <code>--intrinsic-latency &lt;test-time&gt;</code>. Note that the test time is in seconds and dictates how long the test should run.</p>
<div class="highlight"><pre><span></span><code>$ ./redis-cli --intrinsic-latency 5
Max latency so far: 1 microseconds.
Max latency so far: 7 microseconds.
Max latency so far: 9 microseconds.
Max latency so far: 11 microseconds.
Max latency so far: 13 microseconds.
Max latency so far: 15 microseconds.
Max latency so far: 34 microseconds.
Max latency so far: 82 microseconds.
Max latency so far: 586 microseconds.
Max latency so far: 739 microseconds.

65433042 total runs (avg latency: 0.0764 microseconds / 764.14 nanoseconds per run).
Worst run took 9671x longer than the average latency.
</code></pre></div>
<p>IMPORTANT: this command must be executed on the computer that runs the Redis server instance, not on a different host. It does not connect to a Redis instance and performs the test locally.</p>
<p>In the above case, the system cannot do better than 739 microseconds of worst
case latency, so one can expect certain queries to occasionally run less than 1 millisecond.</p>
<h2 id="remote-backups-of-rdb-files">Remote backups of RDB files<a class="headerlink" href="#remote-backups-of-rdb-files" title="Permanent link">⚓︎</a></h2>
<p>During a Redis replication's first synchronization, the primary and the replica
exchange the whole data set in the form of an RDB file. This feature is exploited
by <code>redis-cli</code> in order to provide a remote backup facility that allows a
transfer of an RDB file from any Redis instance to the local computer running
<code>redis-cli</code>. To use this mode, call the CLI with the <code>--rdb &lt;dest-filename&gt;</code>
option:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --rdb /tmp/dump.rdb
SYNC sent to master, writing 13256 bytes to &#39;/tmp/dump.rdb&#39;
Transfer finished with success.
</code></pre></div>
<p>This is a simple but effective way to ensure disaster recovery
RDB backups exist of your Redis instance. When using this options in
scripts or <code>cron</code> jobs, make sure to check the return value of the command.
If it is non zero, an error occurred as in the following example:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --rdb /tmp/dump.rdb
SYNC with master failed: -ERR Can&#39;t SYNC while not connected with my master
$ echo $?
1
</code></pre></div>
<h2 id="replica-mode">Replica mode<a class="headerlink" href="#replica-mode" title="Permanent link">⚓︎</a></h2>
<p>The replica mode of the CLI is an advanced feature useful for
Redis developers and for debugging operations.
It allows for the inspection of the content a primary sends to its replicas in the replication
stream in order to propagate the writes to its replicas. The option
name is simply <code>--replica</code>. The following is a working example:</p>
<div class="highlight"><pre><span></span><code>$ redis-cli --replica
SYNC with master, discarding 13256 bytes of bulk transfer...
SYNC done. Logging commands from master.
&quot;PING&quot;
&quot;SELECT&quot;,&quot;0&quot;
&quot;SET&quot;,&quot;last_name&quot;,&quot;Enigk&quot;
&quot;PING&quot;
&quot;INCR&quot;,&quot;mycounter&quot;
</code></pre></div>
<p>The command begins by discarding the RDB file of the first synchronization
and then logs each command received in CSV format.</p>
<p>If you think some of the commands are not replicated correctly in your replicas
this is a good way to check what's happening, and also useful information
in order to improve the bug report.</p>
<h2 id="performing-an-lru-simulation">Performing an LRU simulation<a class="headerlink" href="#performing-an-lru-simulation" title="Permanent link">⚓︎</a></h2>
<p>Redis is often used as a cache with <a href="/topics/lru-cache">LRU eviction</a>.
Depending on the number of keys and the amount of memory allocated for the
cache (specified via the <code>maxmemory</code> directive), the amount of cache hits
and misses will change. Sometimes, simulating the rate of hits is very
useful to correctly provision your cache.</p>
<p>The <code>redis-cli</code> has a special mode where it performs a simulation of GET and SET
operations, using an 80-20% power law distribution in the requests pattern.
This means that 20% of keys will be requested 80% of times, which is a
common distribution in caching scenarios.</p>
<p>Theoretically, given the distribution of the requests and the Redis memory
overhead, it should be possible to compute the hit rate analytically
with a mathematical formula. However, Redis can be configured with
different LRU settings (number of samples) and LRU's implementation, which
is approximated in Redis, changes a lot between different versions. Similarly
the amount of memory per key may change between versions. That is why this
tool was built: its main motivation was for testing the quality of Redis' LRU
implementation, but now is also useful for testing how a given version
behaves with the settings originally intended for deployment.</p>
<p>To use this mode, specify the amount of keys in the test and configure a sensible <code>maxmemory</code> setting as a first attempt.</p>
<p>IMPORTANT NOTE: Configuring the <code>maxmemory</code> setting in the Redis configuration
is crucial: if there is no cap to the maximum memory usage, the hit will
eventually be 100% since all the keys can be stored in memory. If too many keys are specified with maximum memory, eventually all of the computer RAM will be used. It is also needed to configure an appropriate
<em>maxmemory policy</em>; most of the time <code>allkeys-lru</code> is selected.</p>
<p>In the following example there is a configured a memory limit of 100MB and an LRU
simulation using 10 million keys.</p>
<p>WARNING: the test uses pipelining and will stress the server, don't use it
with production instances.</p>
<div class="highlight"><pre><span></span><code>$ ./redis-cli --lru-test 10000000
156000 Gets/sec | Hits: 4552 (2.92%) | Misses: 151448 (97.08%)
153750 Gets/sec | Hits: 12906 (8.39%) | Misses: 140844 (91.61%)
159250 Gets/sec | Hits: 21811 (13.70%) | Misses: 137439 (86.30%)
151000 Gets/sec | Hits: 27615 (18.29%) | Misses: 123385 (81.71%)
145000 Gets/sec | Hits: 32791 (22.61%) | Misses: 112209 (77.39%)
157750 Gets/sec | Hits: 42178 (26.74%) | Misses: 115572 (73.26%)
154500 Gets/sec | Hits: 47418 (30.69%) | Misses: 107082 (69.31%)
151250 Gets/sec | Hits: 51636 (34.14%) | Misses: 99614 (65.86%)
</code></pre></div>
<p>The program shows stats every second. In the first seconds the cache starts to be populated. The misses rate later stabilizes into the actual figure that can be expected:</p>
<div class="highlight"><pre><span></span><code>120750 Gets/sec | Hits: 48774 (40.39%) | Misses: 71976 (59.61%)
122500 Gets/sec | Hits: 49052 (40.04%) | Misses: 73448 (59.96%)
127000 Gets/sec | Hits: 50870 (40.06%) | Misses: 76130 (59.94%)
124250 Gets/sec | Hits: 50147 (40.36%) | Misses: 74103 (59.64%)
</code></pre></div>
<p>A miss rate of 59% may not be acceptable for certain use cases therefor
100MB of memory is not enough. Observe an example using a half gigabyte of memory. After several
minutes the output stabilizes to the following figures:</p>
<div class="highlight"><pre><span></span><code>140000 Gets/sec | Hits: 135376 (96.70%) | Misses: 4624 (3.30%)
141250 Gets/sec | Hits: 136523 (96.65%) | Misses: 4727 (3.35%)
140250 Gets/sec | Hits: 135457 (96.58%) | Misses: 4793 (3.42%)
140500 Gets/sec | Hits: 135947 (96.76%) | Misses: 4553 (3.24%)
</code></pre></div>
<p>With 500MB there is sufficient space for the key quantity (10 million) and distribution (80-20 style).</p>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../_index/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Connect to Redis">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Connect to Redis
              </div>
            </div>
          </a>
        
        
          
          <a href="../clients/_index/" class="md-footer__link md-footer__link--next" aria-label="下一页: Connect with Redis clients">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Connect with Redis clients
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Ean Yang
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/YQisme" target="_blank" rel="noopener" title="github主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/244185393?spm_id_from=333.788.0.0" target="_blank" rel="noopener" title="b站主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://eanyang7.com" target="_blank" rel="noopener" title="个人主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M112 48a48 48 0 1 1 96 0 48 48 0 1 1-96 0zm40 304v128c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9l-28.6 47.6c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352h-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.prune", "navigation.top", "toc.follow", "header.autohide", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>