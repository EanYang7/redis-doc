
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Redis Access Control List">
      
      
        <meta name="author" content="Ean Yang">
      
      
        <link rel="canonical" href="https://eanyang7.github.io/redis-doc/7-management/security/acl/">
      
      
        <link rel="prev" href="../_index/">
      
      
        <link rel="next" href="../encryption/">
      
      
      <link rel="icon" href="../../../assets/favicon.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.12">
    
    
      
        <title>ACL - redis 文档</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#when-acls-are-useful" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="redis 文档" class="md-header__button md-logo" aria-label="redis 文档" data-md-component="logo">
      
  <img src="../../../assets/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            redis 文档
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ACL
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple"  aria-label="切换为暗黑模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换为暗黑模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="red"  aria-label="切换为浅色模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换为浅色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EanYang7/redis-doc" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="redis 文档" class="md-nav__button md-logo" aria-label="redis 文档" data-md-component="logo">
      
  <img src="../../../assets/logo.jpg" alt="logo">

    </a>
    redis 文档
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EanYang7/redis-doc" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../0-about/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    0 about
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../1-get-started/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    1 get started
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../2-install/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2 install
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../3-connect/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    3 connect
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../4-data-types/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    4 data types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../5-interact/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    5 interact
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../6-manual/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    6 manual
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    7 management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            7 management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manage Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../config-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis configuration file example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../persistence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis persistence
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../replication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis replication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../scaling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scale with Redis Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../sentinel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High availability with Redis Sentinel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../optimization/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_12" checked>
        
          
          <label class="md-nav__link" for="__nav_9_12" id="__nav_9_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Security
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_12">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ACL
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ACL
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#when-acls-are-useful" class="md-nav__link">
    <span class="md-ellipsis">
      When ACLs are useful
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-acls-with-the-acl-command" class="md-nav__link">
    <span class="md-ellipsis">
      Configure ACLs with the ACL command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acl-rules" class="md-nav__link">
    <span class="md-ellipsis">
      ACL rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-edit-user-acls-with-the-acl-setuser-command" class="md-nav__link">
    <span class="md-ellipsis">
      Create and edit user ACLs with the ACL SETUSER command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-calls-to-acl-setuser" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple calls to ACL SETUSER
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-categories" class="md-nav__link">
    <span class="md-ellipsis">
      Command categories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allowblock-subcommands" class="md-nav__link">
    <span class="md-ellipsis">
      Allow/block subcommands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allow-the-first-arg-of-a-blocked-command" class="md-nav__link">
    <span class="md-ellipsis">
      Allow the first-arg of a blocked command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#all-vs-all" class="md-nav__link">
    <span class="md-ellipsis">
      +@all VS -@all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selectors" class="md-nav__link">
    <span class="md-ellipsis">
      Selectors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Key permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-passwords-are-stored-internally" class="md-nav__link">
    <span class="md-ellipsis">
      How passwords are stored internally
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-an-external-acl-file" class="md-nav__link">
    <span class="md-ellipsis">
      Use an external ACL file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acl-rules-for-sentinel-and-replicas" class="md-nav__link">
    <span class="md-ellipsis">
      ACL rules for Sentinel and Replicas
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../encryption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../8-reference/_index/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    8 reference
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#when-acls-are-useful" class="md-nav__link">
    <span class="md-ellipsis">
      When ACLs are useful
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-acls-with-the-acl-command" class="md-nav__link">
    <span class="md-ellipsis">
      Configure ACLs with the ACL command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acl-rules" class="md-nav__link">
    <span class="md-ellipsis">
      ACL rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-edit-user-acls-with-the-acl-setuser-command" class="md-nav__link">
    <span class="md-ellipsis">
      Create and edit user ACLs with the ACL SETUSER command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-calls-to-acl-setuser" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple calls to ACL SETUSER
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-categories" class="md-nav__link">
    <span class="md-ellipsis">
      Command categories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allowblock-subcommands" class="md-nav__link">
    <span class="md-ellipsis">
      Allow/block subcommands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allow-the-first-arg-of-a-blocked-command" class="md-nav__link">
    <span class="md-ellipsis">
      Allow the first-arg of a blocked command
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#all-vs-all" class="md-nav__link">
    <span class="md-ellipsis">
      +@all VS -@all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selectors" class="md-nav__link">
    <span class="md-ellipsis">
      Selectors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Key permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-passwords-are-stored-internally" class="md-nav__link">
    <span class="md-ellipsis">
      How passwords are stored internally
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-an-external-acl-file" class="md-nav__link">
    <span class="md-ellipsis">
      Use an external ACL file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acl-rules-for-sentinel-and-replicas" class="md-nav__link">
    <span class="md-ellipsis">
      ACL rules for Sentinel and Replicas
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EanYang7/redis-doc/tree/main/docs/7-management/security/acl.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/EanYang7/redis-doc/tree/main/docs/7-management/security/acl.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


  <h1>ACL</h1>

<p>The Redis ACL, short for Access Control List, is the feature that allows certain
connections to be limited in terms of the commands that can be executed and the
keys that can be accessed. The way it works is that, after connecting, a client
is required to provide a username and a valid password to authenticate. If authentication succeeded, the connection is associated with a given
user and the limits the user has. Redis can be configured so that new
connections are already authenticated with a "default" user (this is the
default configuration). Configuring the default user has, as a side effect,
the ability to provide only a specific subset of functionalities to connections
that are not explicitly authenticated.</p>
<p>In the default configuration, Redis 6 (the first version to have ACLs) works
exactly like older versions of Redis. Every new connection is
capable of calling every possible command and accessing every key, so the
ACL feature is backward compatible with old clients and applications. Also
the old way to configure a password, using the <strong>requirepass</strong> configuration
directive, still works as expected. However, it now
sets a password for the default user.</p>
<p>The Redis <code>AUTH</code> command was extended in Redis 6, so now it is possible to
use it in the two-arguments form:</p>
<div class="highlight"><pre><span></span><code>AUTH &lt;username&gt; &lt;password&gt;
</code></pre></div>
<p>Here's an example of the old form:</p>
<div class="highlight"><pre><span></span><code>AUTH &lt;password&gt;
</code></pre></div>
<p>What happens is that the username used to authenticate is "default", so
just specifying the password implies that we want to authenticate against
the default user. This provides backward compatibility.</p>
<h2 id="when-acls-are-useful">When ACLs are useful<a class="headerlink" href="#when-acls-are-useful" title="Permanent link">⚓︎</a></h2>
<p>Before using ACLs, you may want to ask yourself what's the goal you want to
accomplish by implementing this layer of protection. Normally there are
two main goals that are well served by ACLs:</p>
<ol>
<li>You want to improve security by restricting the access to commands and keys, so that untrusted clients have no access and trusted clients have just the minimum access level to the database in order to perform the work needed. For instance, certain clients may just be able to execute read only commands.</li>
<li>You want to improve operational safety, so that processes or humans accessing Redis are not allowed to damage the data or the configuration due to software errors or manual mistakes. For instance, there is no reason for a worker that fetches delayed jobs from Redis to be able to call the <code>FLUSHALL</code> command.</li>
</ol>
<p>Another typical usage of ACLs is related to managed Redis instances. Redis is
often provided as a managed service both by internal company teams that handle
the Redis infrastructure for the other internal customers they have, or is
provided in a software-as-a-service setup by cloud providers. In both 
setups, we want to be sure that configuration commands are excluded for the
customers.</p>
<h2 id="configure-acls-with-the-acl-command">Configure ACLs with the ACL command<a class="headerlink" href="#configure-acls-with-the-acl-command" title="Permanent link">⚓︎</a></h2>
<p>ACLs are defined using a DSL (domain specific language) that describes what
a given user is allowed to do. Such rules are always implemented from the
first to the last, left-to-right, because sometimes the order of the rules is
important to understand what the user is really able to do.</p>
<p>By default there is a single user defined, called <em>default</em>. We
can use the <code>ACL LIST</code> command in order to check the currently active ACLs
and verify what the configuration of a freshly started, defaults-configured
Redis instance is:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL LIST
1) &quot;user default on nopass ~* &amp;* +@all&quot;
</code></pre></div>
<p>The command above reports the list of users in the same format that is
used in the Redis configuration files, by translating the current ACLs set
for the users back into their description.</p>
<p>The first two words in each line are "user" followed by the username. The
next words are ACL rules that describe different things. We'll show how the rules work in detail, but for now it is enough to say that the default
user is configured to be active (on), to require no password (nopass), to
access every possible key (<code>~*</code>) and Pub/Sub channel (<code>&amp;*</code>), and be able to
call every possible command (<code>+@all</code>).</p>
<p>Also, in the special case of the default user, having the <em>nopass</em> rule means
that new connections are automatically authenticated with the default user
without any explicit <code>AUTH</code> call needed.</p>
<h2 id="acl-rules">ACL rules<a class="headerlink" href="#acl-rules" title="Permanent link">⚓︎</a></h2>
<p>The following is the list of valid ACL rules. Certain rules are just
single words that are used in order to activate or remove a flag, or to
perform a given change to the user ACL. Other rules are char prefixes that
are concatenated with command or category names, key patterns, and
so forth.</p>
<p>Enable and disallow users:</p>
<ul>
<li><code>on</code>: Enable the user: it is possible to authenticate as this user.</li>
<li><code>off</code>: Disallow the user: it's no longer possible to authenticate with this user; however, previously authenticated connections will still work. Note that if the default user is flagged as <em>off</em>, new connections will start as not authenticated and will require the user to send <code>AUTH</code> or <code>HELLO</code> with the AUTH option in order to authenticate in some way, regardless of the default user configuration.</li>
</ul>
<p>Allow and disallow commands:</p>
<ul>
<li><code>+&lt;command&gt;</code>: Add the command to the list of commands the user can call. Can be used with <code>|</code> for allowing subcommands (e.g "+config|get").</li>
<li><code>-&lt;command&gt;</code>: Remove the command to the list of commands the user can call. Starting Redis 7.0, it can be used with <code>|</code> for blocking subcommands (e.g "-config|set").</li>
<li><code>+@&lt;category&gt;</code>: Add all the commands in such category to be called by the user, with valid categories being like @admin, @set, @sortedset, ... and so forth, see the full list by calling the <code>ACL CAT</code> command. The special category @all means all the commands, both the ones currently present in the server, and the ones that will be loaded in the future via modules.</li>
<li><code>-@&lt;category&gt;</code>: Like <code>+@&lt;category&gt;</code> but removes the commands from the list of commands the client can call.</li>
<li><code>+&lt;command&gt;|first-arg</code>: Allow a specific first argument of an otherwise disabled command. It is only supported on commands with no sub-commands, and is not allowed as negative form like -SELECT|1, only additive starting with "+". This feature is deprecated and may be removed in the future.</li>
<li><code>allcommands</code>: Alias for +@all. Note that it implies the ability to execute all the future commands loaded via the modules system.</li>
<li><code>nocommands</code>: Alias for -@all.</li>
</ul>
<p>Allow and disallow certain keys and key permissions:</p>
<ul>
<li><code>~&lt;pattern&gt;</code>: Add a pattern of keys that can be mentioned as part of commands. For instance <code>~*</code> allows all the keys. The pattern is a glob-style pattern like the one of <code>KEYS</code>. It is possible to specify multiple patterns.</li>
<li><code>%R~&lt;pattern&gt;</code>: (Available in Redis 7.0 and later) Add the specified read key pattern. This behaves similar to the regular key pattern but only grants permission to read from keys that match the given pattern. See <a href="#key-permissions">key permissions</a> for more information.</li>
<li><code>%W~&lt;pattern&gt;</code>: (Available in Redis 7.0 and later) Add the specified write key pattern. This behaves similar to the regular key pattern but only grants permission to write to keys that match the given pattern. See <a href="#key-permissions">key permissions</a> for more information.</li>
<li><code>%RW~&lt;pattern&gt;</code>: (Available in Redis 7.0 and later) Alias for <code>~&lt;pattern&gt;</code>. </li>
<li><code>allkeys</code>: Alias for <code>~*</code>.</li>
<li><code>resetkeys</code>: Flush the list of allowed keys patterns. For instance the ACL <code>~foo:* ~bar:* resetkeys ~objects:*</code>, will only allow the client to access keys that match the pattern <code>objects:*</code>.</li>
</ul>
<p>Allow and disallow Pub/Sub channels:</p>
<ul>
<li><code>&amp;&lt;pattern&gt;</code>: (Available in Redis 6.2 and later) Add a glob style pattern of Pub/Sub channels that can be accessed by the user. It is possible to specify multiple channel patterns. Note that pattern matching is done only for channels mentioned by <code>PUBLISH</code> and <code>SUBSCRIBE</code>, whereas <code>PSUBSCRIBE</code> requires a literal match between its channel patterns and those allowed for user.</li>
<li><code>allchannels</code>: Alias for <code>&amp;*</code> that allows the user to access all Pub/Sub channels.</li>
<li><code>resetchannels</code>: Flush the list of allowed channel patterns and disconnect the user's Pub/Sub clients if these are no longer able to access their respective channels and/or channel patterns.</li>
</ul>
<p>Configure valid passwords for the user:</p>
<ul>
<li><code>&gt;&lt;password&gt;</code>: Add this password to the list of valid passwords for the user. For example <code>&gt;mypass</code> will add "mypass" to the list of valid passwords.  This directive clears the <em>nopass</em> flag (see later). Every user can have any number of passwords.</li>
<li><code>&lt;&lt;password&gt;</code>: Remove this password from the list of valid passwords. Emits an error in case the password you are trying to remove is actually not set.</li>
<li><code>#&lt;hash&gt;</code>: Add this SHA-256 hash value to the list of valid passwords for the user. This hash value will be compared to the hash of a password entered for an ACL user. This allows users to store hashes in the <code>acl.conf</code> file rather than storing cleartext passwords. Only SHA-256 hash values are accepted as the password hash must be 64 characters and only contain lowercase hexadecimal characters.</li>
<li><code>!&lt;hash&gt;</code>: Remove this hash value from the list of valid passwords. This is useful when you do not know the password specified by the hash value but would like to remove the password from the user.</li>
<li><code>nopass</code>: All the set passwords of the user are removed, and the user is flagged as requiring no password: it means that every password will work against this user. If this directive is used for the default user, every new connection will be immediately authenticated with the default user without any explicit AUTH command required. Note that the <em>resetpass</em> directive will clear this condition.</li>
<li><code>resetpass</code>: Flushes the list of allowed passwords and removes the <em>nopass</em> status. After <em>resetpass</em>, the user has no associated passwords and there is no way to authenticate without adding some password (or setting it as <em>nopass</em> later).</li>
</ul>
<p><em>Note: if a user is not flagged with nopass and has no list of valid passwords, that user is effectively impossible to use because there will be no way to log in as that user.</em></p>
<p>Configure selectors for the user:</p>
<ul>
<li><code>(&lt;rule list&gt;)</code>: (Available in Redis 7.0 and later) Create a new selector to match rules against. Selectors are evaluated after the user permissions, and are evaluated according to the order they are defined. If a command matches either the user permissions or any selector, it is allowed. See <a href="#selectors">selectors</a> for more information.</li>
<li><code>clearselectors</code>: (Available in Redis 7.0 and later) Delete all of the selectors attached to the user.</li>
</ul>
<p>Reset the user:</p>
<ul>
<li><code>reset</code> Performs the following actions: resetpass, resetkeys, resetchannels, allchannels (if acl-pubsub-default is set), off, clearselectors, -@all. The user returns to the same state it had immediately after its creation.</li>
</ul>
<h2 id="create-and-edit-user-acls-with-the-acl-setuser-command">Create and edit user ACLs with the ACL SETUSER command<a class="headerlink" href="#create-and-edit-user-acls-with-the-acl-setuser-command" title="Permanent link">⚓︎</a></h2>
<p>Users can be created and modified in two main ways:</p>
<ol>
<li>Using the ACL command and its <code>ACL SETUSER</code> subcommand.</li>
<li>Modifying the server configuration, where users can be defined, and restarting the server. With an <em>external ACL file</em>, just call <code>ACL LOAD</code>.</li>
</ol>
<p>In this section we'll learn how to define users using the <code>ACL</code> command.
With such knowledge, it will be trivial to do the same things via the
configuration files. Defining users in the configuration deserves its own
section and will be discussed later separately.</p>
<p>To start, try the simplest <code>ACL SETUSER</code> command call:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL SETUSER alice
OK
</code></pre></div>
<p>The <code>ACL SETUSER</code> command takes the username and a list of ACL rules to apply
to the user. However the above example did not specify any rule at all.
This will just create the user if it did not exist, using the defaults for new
users. If the user already exists, the command above will do nothing at all.</p>
<p>Check the default user status:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL LIST
1) &quot;user alice off resetchannels -@all&quot;
2) &quot;user default on nopass ~* &amp;* +@all&quot;
</code></pre></div>
<p>The new user "alice" is:</p>
<ul>
<li>In the off status, so <code>AUTH</code> will not work for the user "alice".</li>
<li>The user also has no passwords set.</li>
<li>Cannot access any command. Note that the user is created by default without the ability to access any command, so the <code>-@all</code> in the output above could be omitted; however, <code>ACL LIST</code> attempts to be explicit rather than implicit.</li>
<li>There are no key patterns that the user can access.</li>
<li>There are no Pub/Sub channels that the user can access.</li>
</ul>
<p>New users are created with restrictive permissions by default. Starting with Redis 6.2, ACL provides Pub/Sub channels access management as well. To ensure backward compatibility with version 6.0 when upgrading to Redis 6.2, new users are granted the 'allchannels' permission by default. The default can be set to <code>resetchannels</code> via the <code>acl-pubsub-default</code> configuration directive.</p>
<p>From 7.0, The <code>acl-pubsub-default</code> value is set to <code>resetchannels</code> to restrict the channels access by default to provide better security.
The default can be set to <code>allchannels</code> via the <code>acl-pubsub-default</code> configuration directive to be compatible with previous versions.</p>
<p>Such user is completely useless. Let's try to define the user so that
it is active, has a password, and can access with only the <code>GET</code> command
to key names starting with the string "cached:".</p>
<div class="highlight"><pre><span></span><code>&gt; ACL SETUSER alice on &gt;p1pp0 ~cached:* +get
OK
</code></pre></div>
<p>Now the user can do something, but will refuse to do other things:</p>
<div class="highlight"><pre><span></span><code>&gt; AUTH alice p1pp0
OK
&gt; GET foo
(error) NOPERM this user has no permissions to access one of the keys used as arguments
&gt; GET cached:1234
(nil)
&gt; SET cached:1234 zap
(error) NOPERM this user has no permissions to run the &#39;set&#39; command
</code></pre></div>
<p>Things are working as expected. In order to inspect the configuration of the
user alice (remember that user names are case sensitive), it is possible to
use an alternative to <code>ACL LIST</code> which is designed to be more suitable for
computers to read, while <code>ACL GETUSER</code> is more human readable.</p>
<div class="highlight"><pre><span></span><code>&gt; ACL GETUSER alice
1) &quot;flags&quot;
2) 1) &quot;on&quot;
3) &quot;passwords&quot;
4) 1) &quot;2d9c75...&quot;
5) &quot;commands&quot;
6) &quot;-@all +get&quot;
7) &quot;keys&quot;
8) &quot;~cached:*&quot;
9) &quot;channels&quot;
10) &quot;&quot;
11) &quot;selectors&quot;
12) (empty array)
</code></pre></div>
<p>The <code>ACL GETUSER</code> returns a field-value array that describes the user in more parsable terms. The output includes the set of flags, a list of key patterns, passwords, and so forth. The output is probably more readable if we use RESP3, so that it is returned as a map reply:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL GETUSER alice
1# &quot;flags&quot; =&gt; 1~ &quot;on&quot;
2# &quot;passwords&quot; =&gt; 1) &quot;2d9c75273d72b32df726fb545c8a4edc719f0a95a6fd993950b10c474ad9c927&quot;
3# &quot;commands&quot; =&gt; &quot;-@all +get&quot;
4# &quot;keys&quot; =&gt; &quot;~cached:*&quot;
5# &quot;channels&quot; =&gt; &quot;&quot;
6# &quot;selectors&quot; =&gt; (empty array)
</code></pre></div>
<p><em>Note: from now on, we'll continue using the Redis default protocol, version 2</em></p>
<p>Using another <code>ACL SETUSER</code> command (from a different user, because alice cannot run the <code>ACL</code> command), we can add multiple patterns to the user:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL SETUSER alice ~objects:* ~items:* ~public:*
OK
&gt; ACL LIST
1) &quot;user alice on #2d9c75... ~cached:* ~objects:* ~items:* ~public:* resetchannels -@all +get&quot;
2) &quot;user default on nopass ~* &amp;* +@all&quot;
</code></pre></div>
<p>The user representation in memory is now as we expect it to be.</p>
<h2 id="multiple-calls-to-acl-setuser">Multiple calls to ACL SETUSER<a class="headerlink" href="#multiple-calls-to-acl-setuser" title="Permanent link">⚓︎</a></h2>
<p>It is very important to understand what happens when <code>ACL SETUSER</code> is called
multiple times. What is critical to know is that every <code>ACL SETUSER</code> call will
NOT reset the user, but will just apply the ACL rules to the existing user.
The user is reset only if it was not known before. In that case, a brand new
user is created with zeroed-ACLs. The user cannot do anything, is
disallowed, has no passwords, and so forth. This is the best default for safety.</p>
<p>However later calls will just modify the user incrementally. For instance,
the following sequence:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL SETUSER myuser +set
OK
&gt; ACL SETUSER myuser +get
OK
</code></pre></div>
<p>Will result in myuser being able to call both <code>GET</code> and <code>SET</code>:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL LIST
1) &quot;user default on nopass ~* &amp;* +@all&quot;
2) &quot;user myuser off resetchannels -@all +get +set&quot;
</code></pre></div>
<h2 id="command-categories">Command categories<a class="headerlink" href="#command-categories" title="Permanent link">⚓︎</a></h2>
<p>Setting user ACLs by specifying all the commands one after the other is
really annoying, so instead we do things like this:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL SETUSER antirez on +@all -@dangerous &gt;42a979... ~*
</code></pre></div>
<p>By saying +@all and -@dangerous, we included all the commands and later removed
all the commands that are tagged as dangerous inside the Redis command table.
Note that command categories <strong>never include modules commands</strong> with
the exception of +@all. If you say +@all, all the commands can be executed by
the user, even future commands loaded via the modules system. However if you
use the ACL rule +@read or any other, the modules commands are always
excluded. This is very important because you should just trust the Redis
internal command table. Modules may expose dangerous things and in
the case of an ACL that is just additive, that is, in the form of <code>+@all -...</code>
You should be absolutely sure that you'll never include what you did not mean
to.</p>
<p>The following is a list of command categories and their meanings:</p>
<ul>
<li><strong>admin</strong> - Administrative commands. Normal applications will never need to use
  these. Includes <code>REPLICAOF</code>, <code>CONFIG</code>, <code>DEBUG</code>, <code>SAVE</code>, <code>MONITOR</code>, <code>ACL</code>, <code>SHUTDOWN</code>, etc.</li>
<li><strong>bitmap</strong> - Data type: bitmaps related.</li>
<li><strong>blocking</strong> - Potentially blocking the connection until released by another
  command.</li>
<li><strong>connection</strong> - Commands affecting the connection or other connections.
  This includes <code>AUTH</code>, <code>SELECT</code>, <code>COMMAND</code>, <code>CLIENT</code>, <code>ECHO</code>, <code>PING</code>, etc.</li>
<li><strong>dangerous</strong> - Potentially dangerous commands (each should be considered with care for
  various reasons). This includes <code>FLUSHALL</code>, <code>MIGRATE</code>, <code>RESTORE</code>, <code>SORT</code>, <code>KEYS</code>,
  <code>CLIENT</code>, <code>DEBUG</code>, <code>INFO</code>, <code>CONFIG</code>, <code>SAVE</code>, <code>REPLICAOF</code>, etc.</li>
<li><strong>geo</strong> - Data type: geospatial indexes related.</li>
<li><strong>hash</strong> - Data type: hashes related.</li>
<li><strong>hyperloglog</strong> - Data type: hyperloglog related.</li>
<li><strong>fast</strong> - Fast O(1) commands. May loop on the number of arguments, but not the
  number of elements in the key.</li>
<li><strong>keyspace</strong> - Writing or reading from keys, databases, or their metadata 
  in a type agnostic way. Includes <code>DEL</code>, <code>RESTORE</code>, <code>DUMP</code>, <code>RENAME</code>, <code>EXISTS</code>, <code>DBSIZE</code>,
  <code>KEYS</code>, <code>EXPIRE</code>, <code>TTL</code>, <code>FLUSHALL</code>, etc. Commands that may modify the keyspace,
  key, or metadata will also have the <code>write</code> category. Commands that only read
  the keyspace, key, or metadata will have the <code>read</code> category.</li>
<li><strong>list</strong> - Data type: lists related.</li>
<li><strong>pubsub</strong> - PubSub-related commands.</li>
<li><strong>read</strong> - Reading from keys (values or metadata). Note that commands that don't
  interact with keys, will not have either <code>read</code> or <code>write</code>.</li>
<li><strong>scripting</strong> - Scripting related.</li>
<li><strong>set</strong> - Data type: sets related.</li>
<li><strong>sortedset</strong> - Data type: sorted sets related.</li>
<li><strong>slow</strong> - All commands that are not <code>fast</code>.</li>
<li><strong>stream</strong> - Data type: streams related.</li>
<li><strong>string</strong> - Data type: strings related.</li>
<li><strong>transaction</strong> - <code>WATCH</code> / <code>MULTI</code> / <code>EXEC</code> related commands.</li>
<li><strong>write</strong> - Writing to keys (values or metadata).</li>
</ul>
<p>Redis can also show you a list of all categories and the exact commands each category includes using the Redis <code>ACL CAT</code> command. It can be used in two forms:</p>
<div class="highlight"><pre><span></span><code>ACL CAT -- Will just list all the categories available
ACL CAT &lt;category-name&gt; -- Will list all the commands inside the category
</code></pre></div>
<p>Examples:</p>
<div class="highlight"><pre><span></span><code> &gt; ACL CAT
 1) &quot;keyspace&quot;
 2) &quot;read&quot;
 3) &quot;write&quot;
 4) &quot;set&quot;
 5) &quot;sortedset&quot;
 6) &quot;list&quot;
 7) &quot;hash&quot;
 8) &quot;string&quot;
 9) &quot;bitmap&quot;
10) &quot;hyperloglog&quot;
11) &quot;geo&quot;
12) &quot;stream&quot;
13) &quot;pubsub&quot;
14) &quot;admin&quot;
15) &quot;fast&quot;
16) &quot;slow&quot;
17) &quot;blocking&quot;
18) &quot;dangerous&quot;
19) &quot;connection&quot;
20) &quot;transaction&quot;
21) &quot;scripting&quot;
</code></pre></div>
<p>As you can see, so far there are 21 distinct categories. Now let's check what
command is part of the <em>geo</em> category:</p>
<div class="highlight"><pre><span></span><code> &gt; ACL CAT geo
 1) &quot;geohash&quot;
 2) &quot;georadius_ro&quot;
 3) &quot;georadiusbymember&quot;
 4) &quot;geopos&quot;
 5) &quot;geoadd&quot;
 6) &quot;georadiusbymember_ro&quot;
 7) &quot;geodist&quot;
 8) &quot;georadius&quot;
 9) &quot;geosearch&quot;
10) &quot;geosearchstore&quot;
</code></pre></div>
<p>Note that commands may be part of multiple categories. For example, an
ACL rule like <code>+@geo -@read</code> will result in certain geo commands to be
excluded because they are read-only commands.</p>
<h2 id="allowblock-subcommands">Allow/block subcommands<a class="headerlink" href="#allowblock-subcommands" title="Permanent link">⚓︎</a></h2>
<p>Starting from Redis 7.0, subcommands can be allowed/blocked just like other
commands (by using the separator <code>|</code> between the command and subcommand, for
example: <code>+config|get</code> or <code>-config|set</code>)</p>
<p>That is true for all commands except DEBUG. In order to allow/block specific
DEBUG subcommands, see the next section.</p>
<h2 id="allow-the-first-arg-of-a-blocked-command">Allow the first-arg of a blocked command<a class="headerlink" href="#allow-the-first-arg-of-a-blocked-command" title="Permanent link">⚓︎</a></h2>
<p><strong>Note: This feature is deprecated since Redis 7.0 and may be removed in the future.</strong></p>
<p>Sometimes the ability to exclude or include a command or a subcommand as a whole is not enough.
Many deployments may not be happy providing the ability to execute a <code>SELECT</code> for any DB, but may
still want to be able to run <code>SELECT 0</code>.</p>
<p>In such case we could alter the ACL of a user in the following way:</p>
<div class="highlight"><pre><span></span><code>ACL SETUSER myuser -select +select|0
</code></pre></div>
<p>First, remove the <code>SELECT</code> command and then add the allowed
first-arg. Note that <strong>it is not possible to do the reverse</strong> since first-args
can be only added, not excluded. It is safer to specify all the first-args
that are valid for some user since it is possible that
new first-args may be added in the future.</p>
<p>Another example:</p>
<div class="highlight"><pre><span></span><code>ACL SETUSER myuser -debug +debug|digest
</code></pre></div>
<p>Note that first-arg matching may add some performance penalty; however, it is hard to measure even with synthetic benchmarks. The
additional CPU cost is only paid when such commands are called, and not when
other commands are called.</p>
<p>It is possible to use this mechanism in order to allow subcommands in Redis
versions prior to 7.0 (see above section).</p>
<h2 id="all-vs-all">+@all VS -@all<a class="headerlink" href="#all-vs-all" title="Permanent link">⚓︎</a></h2>
<p>In the previous section, it was observed how it is possible to define command
ACLs based on adding/removing single commands.</p>
<h2 id="selectors">Selectors<a class="headerlink" href="#selectors" title="Permanent link">⚓︎</a></h2>
<p>Starting with Redis 7.0, Redis supports adding multiple sets of rules that are evaluated independently of each other.
These secondary sets of permissions are called selectors and added by wrapping a set of rules within parentheses.
In order to execute a command, either the root permissions (rules defined outside of parenthesis) or any of the selectors (rules defined inside parenthesis) must match the given command.
Internally, the root permissions are checked first followed by selectors in the order they were added.</p>
<p>For example, consider a user with the ACL rules <code>+GET ~key1 (+SET ~key2)</code>.
This user is able to execute <code>GET key1</code> and <code>SET key2 hello</code>, but not <code>GET key2</code> or <code>SET key1 world</code>.</p>
<p>Unlike the user's root permissions, selectors cannot be modified after they are added.
Instead, selectors can be removed with the <code>clearselectors</code> keyword, which removes all of the added selectors.
Note that <code>clearselectors</code> does not remove the root permissions.</p>
<h2 id="key-permissions">Key permissions<a class="headerlink" href="#key-permissions" title="Permanent link">⚓︎</a></h2>
<p>Starting with Redis 7.0, key patterns can also be used to define how a command is able to touch a key.
This is achieved through rules that define key permissions.
The key permission rules take the form of <code>%(&lt;permission&gt;)~&lt;pattern&gt;</code>.
Permissions are defined as individual characters that map to the following key permissions:</p>
<ul>
<li>W (Write): The data stored within the key may be updated or deleted. </li>
<li>R (Read): User supplied data from the key is processed, copied or returned. Note that this does not include metadata such as size information (example <code>STRLEN</code>), type information (example <code>TYPE</code>) or information about whether a value exists within a collection (example <code>SISMEMBER</code>). </li>
</ul>
<p>Permissions can be composed together by specifying multiple characters. 
Specifying the permission as 'RW' is considered full access and is analogous to just passing in <code>~&lt;pattern&gt;</code>.</p>
<p>For a concrete example, consider a user with ACL rules <code>+@all ~app1:* (+@read ~app2:*)</code>.
This user has full access on <code>app1:*</code> and readonly access on <code>app2:*</code>.
However, some commands support reading data from one key, doing some transformation, and storing it into another key.
One such command is the <code>COPY</code> command, which copies the data from the source key into the destination key.
The example set of ACL rules is unable to handle a request copying data from <code>app2:user</code> into <code>app1:user</code>, since neither the root permission nor the selector fully matches the command.
However, using key selectors you can define a set of ACL rules that can handle this request <code>+@all ~app1:* %R~app2:*</code>.
The first pattern is able to match <code>app1:user</code> and the second pattern is able to match <code>app2:user</code>.</p>
<p>Which type of permission is required for a command is documented through <a href="/topics/key-specs#logical-operation-flags">key specifications</a>.
The type of permission is based off the keys logical operation flags. 
The insert, update, and delete flags map to the write key permission. 
The access flag maps to the read key permission.
If the key has no logical operation flags, such as <code>EXISTS</code>, the user still needs either key read or key write permissions to execute the command. </p>
<p>Note: Side channels to accessing user data are ignored when it comes to evaluating whether read permissions are required to execute a command.
This means that some write commands that return metadata about the modified key only require write permission on the key to execute.
For example, consider the following two commands:</p>
<ul>
<li><code>LPUSH key1 data</code>: modifies "key1" but only returns metadata about it, the size of the list after the push, so the command only requires write permission on "key1" to execute.</li>
<li><code>LPOP key2</code>: modifies "key2" but also returns data from it, the left most item in the list, so the command requires both read and write permission on "key2" to execute.</li>
</ul>
<p>If an application needs to make sure no data is accessed from a key, including side channels, it's recommended to not provide any access to the key.</p>
<h2 id="how-passwords-are-stored-internally">How passwords are stored internally<a class="headerlink" href="#how-passwords-are-stored-internally" title="Permanent link">⚓︎</a></h2>
<p>Redis internally stores passwords hashed with SHA256. If you set a password
and check the output of <code>ACL LIST</code> or <code>ACL GETUSER</code>, you'll see a long hex
string that looks pseudo random. Here is an example, because in the previous
examples, for the sake of brevity, the long hex string was trimmed:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL GETUSER default
1) &quot;flags&quot;
2) 1) &quot;on&quot;
3) &quot;passwords&quot;
4) 1) &quot;2d9c75273d72b32df726fb545c8a4edc719f0a95a6fd993950b10c474ad9c927&quot;
5) &quot;commands&quot;
6) &quot;+@all&quot;
7) &quot;keys&quot;
8) &quot;~*&quot;
9) &quot;channels&quot;
10) &quot;&amp;*&quot;
11) &quot;selectors&quot;
12) (empty array)
</code></pre></div>
<p>Using SHA256 provides the ability to avoid storing the password in clear text
while still allowing for a very fast <code>AUTH</code> command, which is a very important
feature of Redis and is coherent with what clients expect from Redis.</p>
<p>However ACL <em>passwords</em> are not really passwords. They are shared secrets
between the server and the client, because the password is
not an authentication token used by a human being. For instance:</p>
<ul>
<li>There are no length limits, the password will just be memorized in some client software. There is no human that needs to recall a password in this context.</li>
<li>The ACL password does not protect any other thing. For example, it will never be the password for some email account.</li>
<li>Often when you are able to access the hashed password itself, by having full access to the Redis commands of a given server, or corrupting the system itself, you already have access to what the password is protecting: the Redis instance stability and the data it contains.</li>
</ul>
<p>For this reason, slowing down the password authentication, in order to use an
algorithm that uses time and space to make password cracking hard,
is a very poor choice. What we suggest instead is to generate strong
passwords, so that nobody will be able to crack it using a
dictionary or a brute force attack even if they have the hash. To do so, there is a special ACL
command <code>ACL GENPASS</code> that generates passwords using the system cryptographic pseudorandom
generator:</p>
<div class="highlight"><pre><span></span><code>&gt; ACL GENPASS
&quot;dd721260bfe1b3d9601e7fbab36de6d04e2e67b0ef1c53de59d45950db0dd3cc&quot;
</code></pre></div>
<p>The command outputs a 32-byte (256-bit) pseudorandom string converted to a
64-byte alphanumerical string. This is long enough to avoid attacks and short
enough to be easy to manage, cut &amp; paste, store, and so forth. This is what
you should use in order to generate Redis passwords.</p>
<h2 id="use-an-external-acl-file">Use an external ACL file<a class="headerlink" href="#use-an-external-acl-file" title="Permanent link">⚓︎</a></h2>
<p>There are two ways to store users inside the Redis configuration:</p>
<ol>
<li>Users can be specified directly inside the <code>redis.conf</code> file.</li>
<li>It is possible to specify an external ACL file.</li>
</ol>
<p>The two methods are <em>mutually incompatible</em>, so Redis will ask you to use one
or the other. Specifying users inside <code>redis.conf</code> is
good for simple use cases. When there are multiple users to define, in a
complex environment, we recommend you use the ACL file instead.</p>
<p>The format used inside <code>redis.conf</code> and in the external ACL file is exactly
the same, so it is trivial to switch from one to the other, and is
the following:</p>
<div class="highlight"><pre><span></span><code>user &lt;username&gt; ... acl rules ...
</code></pre></div>
<p>For instance:</p>
<div class="highlight"><pre><span></span><code>user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99
</code></pre></div>
<p>When you want to use an external ACL file, you are required to specify
the configuration directive called <code>aclfile</code>, like this:</p>
<div class="highlight"><pre><span></span><code>aclfile /etc/redis/users.acl
</code></pre></div>
<p>When you are just specifying a few users directly inside the <code>redis.conf</code>
file, you can use <code>CONFIG REWRITE</code> in order to store the new user configuration
inside the file by rewriting it.</p>
<p>The external ACL file however is more powerful. You can do the following:</p>
<ul>
<li>Use <code>ACL LOAD</code> if you modified the ACL file manually and you want Redis to reload the new configuration. Note that this command is able to load the file <em>only if all the users are correctly specified</em>. Otherwise, an error is reported to the user, and the old configuration will remain valid.</li>
<li>Use <code>ACL SAVE</code> to save the current ACL configuration to the ACL file.</li>
</ul>
<p>Note that <code>CONFIG REWRITE</code> does not also trigger <code>ACL SAVE</code>. When you use
an ACL file, the configuration and the ACLs are handled separately.</p>
<h2 id="acl-rules-for-sentinel-and-replicas">ACL rules for Sentinel and Replicas<a class="headerlink" href="#acl-rules-for-sentinel-and-replicas" title="Permanent link">⚓︎</a></h2>
<p>In case you don't want to provide Redis replicas and Redis Sentinel instances
full access to your Redis instances, the following is the set of commands
that must be allowed in order for everything to work correctly.</p>
<p>For Sentinel, allow the user to access the following commands both in the master and replica instances:</p>
<ul>
<li>AUTH, CLIENT, SUBSCRIBE, SCRIPT, PUBLISH, PING, INFO, MULTI, SLAVEOF, CONFIG, CLIENT, EXEC.</li>
</ul>
<p>Sentinel does not need to access any key in the database but does use Pub/Sub, so the ACL rule would be the following (note: <code>AUTH</code> is not needed since it is always allowed):</p>
<div class="highlight"><pre><span></span><code>ACL SETUSER sentinel-user on &gt;somepassword allchannels +multi +slaveof +ping +exec +subscribe +config|rewrite +role +publish +info +client|setname +client|kill +script|kill
</code></pre></div>
<p>Redis replicas require the following commands to be allowed on the master instance:</p>
<ul>
<li>PSYNC, REPLCONF, PING</li>
</ul>
<p>No keys need to be accessed, so this translates to the following rules:</p>
<div class="highlight"><pre><span></span><code>ACL setuser replica-user on &gt;somepassword +psync +replconf +ping
</code></pre></div>
<p>Note that you don't need to configure the replicas to allow the master to be able to execute any set of commands. The master is always authenticated as the root user from the point of view of replicas.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../_index/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Redis security">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Redis security
              </div>
            </div>
          </a>
        
        
          
          <a href="../encryption/" class="md-footer__link md-footer__link--next" aria-label="下一页: TLS">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                TLS
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Ean Yang
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/YQisme" target="_blank" rel="noopener" title="github主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/244185393?spm_id_from=333.788.0.0" target="_blank" rel="noopener" title="b站主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://eanyang7.com" target="_blank" rel="noopener" title="个人主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M112 48a48 48 0 1 1 96 0 48 48 0 1 1-96 0zm40 304v128c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9l-28.6 47.6c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352h-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.prune", "navigation.top", "toc.follow", "header.autohide", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>